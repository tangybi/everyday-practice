# 经典题之输入url后页面发生了什么？

## 1、域名解析

1，浏览器首先检查本地缓存是否有对应域名ip，有则直接使用，无则查询系统dns缓存中的域名表，有则使用，无则，检查hosts文件的映射表，无则向dns域名服务器发起请求查询。google：8.8.8.8，电信：114.114.114.114.

​    dns服务器首先查找自身的缓存，有对应域名ip则直接返回；无则，dns服务器发起迭代dns请求，首先向根域服务器发起请求，假如本次请求为www.baidu.com，根域服务器发现这是com的顶级域名，先返回com域的ip，dns向com域ip地址发起请求，查询域名的ip，com域返回baidu.com的ip；最后dns服务器向子域发生请求，得到ip。

三级域名.二级域名.顶级域名。最右等级最高。每个域都有一个域名服务器，管理下属域名。

跟域服务器>顶级域名域服务器>二级域名域服务器>三级域名域服务器>四级域名域服务器

​    若dns服务器也没解析成功，则：操作系统会查找NetBIOS name Cache，凡是最近一段时间内和本机通讯成功的计算机名和ip地址都会在这个缓存里，若无，则：查询WINS服务器（NETBIOS名称和ip地址对应的服务器），若无，则：客户端广播查找，若无，则：客户端读取LMHOSTS文件，若无，解析失败。



## 2、建立tcp连接

tcp三次握手

## 3、发送请求

1，web浏览器向web服务器发送请求头：get / http/1.1

2，浏览器以头信息的形式发送其他信息，

3，发送空行表示结束头信息的发送

4，（get无信息体）发送信息体

5，服务器应答，发送状态码，http/1.1 200 ok

6，服务器发送响应头

7，服务器发送空行表示响应头结束

8，服务器发送响应体

9，服务器关闭tcp连接，除非头信息加入了connection：keep-alive，节省带宽和时间

## 4、接受数据



## 5、解析渲染

